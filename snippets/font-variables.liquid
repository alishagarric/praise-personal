
{% comment %} Set up Shopify heading font {% endcomment %}
{% assign heading_font_bold = settings.type_heading_font | font_modify: 'weight', 'bold' %}
{% assign heading_font_italic = settings.type_heading_font | font_modify: 'style', 'italic' %}
{% assign heading_font_bold_italic = heading_font_bold | font_modify: 'style', 'italic' %}

{% style %}
  {{ settings.type_heading_font | font_face: font_display: 'swap' }}
  {{ heading_font_bold | font_face: font_display: 'swap' }}
  {{ heading_font_italic | font_face: font_display: 'swap' }}
  {{ heading_font_bold_italic | font_face: font_display: 'swap' }}

  :root {
    --font-heading-family: {{ settings.type_heading_font.family }}, {{ settings.type_heading_font.fallback_families }};
    --font-heading-style: {{ settings.type_heading_font.style }};
    --font-heading-weight: {{ settings.type_heading_font.weight }};
  }
{% endstyle %}

{% comment %} Set up Shopify body font {% endcomment %}
{% assign body_font_bold = settings.type_body_font | font_modify: 'weight', 'bold' %}
{% assign body_font_italic = settings.type_body_font | font_modify: 'style', 'italic' %}
{% assign body_font_bold_italic = body_font_bold | font_modify: 'style', 'italic' %}

{% style %}
  {{ settings.type_body_font | font_face: font_display: 'swap' }}
  {{ body_font_bold | font_face: font_display: 'swap' }}
  {{ body_font_italic | font_face: font_display: 'swap' }}
  {{ body_font_bold_italic | font_face: font_display: 'swap' }}

  :root {
    --font-body-family: {{ settings.type_body_font.family }}, {{ settings.type_body_font.fallback_families }};
    --font-body-style: {{ settings.type_body_font.style }};
    --font-body-weight: {{ settings.type_body_font.weight }};
  }
{% endstyle %}

{% comment %} Load Shopify fonts if we're using one {% endcomment %}
{%- unless settings.type_heading_font.system? and settings.type_body_font.system? -%}
  <link rel="preconnect" href="https://fonts.shopifycdn.com" crossorigin>
{%- endunless -%}

{% comment %} Set up heading and body font scale variables {% endcomment %}
{% style %}
  :root {
    --font-body-scale: {{ settings.body_scale | divided_by: 100.0 }};
    --font-heading-scale: {{ settings.heading_scale | divided_by: 100.0 }};
    --font-body-spacing: {{ settings.body_spacing | divided_by: 100.0 }}rem;
    --font-heading-spacing: {{ settings.heading_spacing | divided_by: 100.0 }}rem;
  }
{% endstyle %}