{% comment %}
  Renders a featured icons

  Expects:
  - this_product: {Object} Product object
  - icons: {array of strings} optional, Used to loop through if product isn't provided
  - class: {String} optional
  - layout: {string} optional stacked (default), row, icon-only
  - icon_height: {int} optional

  Usage:
    {% render 'featured-icons' this_product: product, class:"class" %}
{% endcomment %}

{% assign icon_height = icon_height | default: '20' %}
{% assign layout = layout | default: 'stacked' %}
{% assign array = this_product.metafields.custom.featured_icons.value | default: icons %}


<ul class="featured-icons {{ class }} __layout-{{ layout }}" style="--customIconHeight:{{ icon_height }}px;">
  {% for icon in array %}
    <li class="featured-icons__icon custom-icon custom-icon-{{ icon | handleize }}">
      <span class="p-sm">{{ icon | capitalize }}</span>
    </li>
  {% endfor %}

  {% if icon_1 != 'none' %}
    <li class="featured-icons__icon">
      {% render 'icon', icon: icon_1 %}
      {% if icon_1_title != blank %}
        <span class="p-sm">{{ icon_1_title | capitalize }}</span>
      {% endif %}
    </li>
  {% endif %}
  {% if icon_2 != 'none' %}
    <li class="featured-icons__icon">
      {% render 'icon', icon: icon_2 %}
      {% if icon_2_title != blank %}
        <span class="p-sm">{{ icon_2_title | capitalize }}</span>
      {% endif %}
    </li>
  {% endif %}
  {% if icon_3 != 'none' %}
    <li class="featured-icons__icon">
      {% render 'icon', icon: icon_3 %}
      {% if icon_3_title != blank %}
        <span class="p-sm">{{ icon_3_title | capitalize }}</span>
      {% endif %}
    </li>
  {% endif %}
</ul>

