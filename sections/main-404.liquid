{% style %}
  #main-404-{{ section.id }} {
    --topSpacingRatio: {{ section.settings.top_spacing }} / 100;
    --bottomSpacingRatio: {{ section.settings.bottom_spacing }} / 100;
    --imageMaxWidth: {{ section.settings.image_width }}px;
  }
{% endstyle %}

<div id="main-404-{{ section.id }}" class="site-404">
  <div class="site-404__image">
    {%- if section.settings.image != blank -%}
      {% render 'next-gen-img', image: section.settings.image %}
    {%- else -%}
      {{ 'image' | placeholder_svg_tag: 'placeholder-svg' }}
    {%- endif -%}
  </div>
  {% render 'heading', heading: section.settings.heading, heading_size: 'h4', heading_tag: 'h1' %}

  {% if section.settings.button_label and section.settings.button_link %}
    {% render 'button', section.settings.button_label: section.settings.button_label, class: "site-404", button_color: section.settings.button_color %}
  {%- endif -%}
</div>

{% schema %}
{
  "name": "404",
  "tag": "section",
  "settings": [
    {
      "type": "header",
      "content": "Image"
    },
    {
      "type": "image_picker",
      "id": "image",
      "label": "Custom Image"
    },
    {
      "type": "range",
      "id": "image_width",
      "min": 0,
      "max": 500,
      "step": 10,
      "unit": "px",
      "label": "Logo Max Width",
      "default": 80
    },
    {
      "type": "header",
      "content": "Heading"
    },
    {
      "type": "text",
      "id": "heading",
      "default": "Oops... like some eggs when baking, this link is broken.",
      "label": "Heading"
    },
    {
      "type": "header",
      "content": "Button"
    },
    {
      "type": "text",
      "id": "button_label",
      "default": "Return Home",
      "label": "Button Label"
    },
    {
      "type": "url",
      "id": "button_link",
      "label": "Button Link"
    },
    {
      "type": "select",
      "id": "button_color",
      "label": "Button Color",
      "default": "default",
      "options": [
        {
          "value": "default",
          "label": "Default"
        },
        {
          "value": "primary",
          "label": "Primary Theme"
        },
        {
          "value": "2",
          "label": "2nd Theme"
        },
        {
          "value": "3",
          "label": "3rd Theme"
        },
        {
          "value": "4",
          "label": "4th Theme"
        },
        {
          "value": "5",
          "label": "5th Theme"
        }
      ]
    },
    {
      "type": "header",
      "content": "Section"
    },
    {
      "type": "range",
      "id": "top_spacing",
      "min": 0,
      "max": 100,
      "step": 10,
      "unit": "%",
      "label": "Top Section Spacing",
      "default": 50
    },
    {
      "type": "range",
      "id": "bottom_spacing",
      "min": 0,
      "max": 100,
      "step": 10,
      "unit": "%",
      "label": "Bottom Section Spacing",
      "default": 50
    }
  ]
}
{% endschema %}
